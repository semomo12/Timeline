# Timeline

An timeline application developed by Python and PySide6(QT).

## Overview

Timeline helps you create, visualize, and manage timelines with characters, events, and places. 



- **Two Timeline Modes**
  - ğŸ“… **Calendar Dates**: Use real dates (YYYY-MM-DD)
  - ğŸ”¢ **Day Sequence**: Use relative days (Day 1, Day 2, etc.)

- **Entities**
  - ğŸ‘¤ **Characters**: People with age, description, colors, and images
  - ğŸ“ **Events**: Occurrences with start/end dates, participants, and locations
  - ğŸ  **Places**: Locations where events take place



## Interactive & UI Features 

  - Entity management: characters, events, locations
  - UI features: dark/light mode, table views, filtering, image upload, JSON export/import
  - Drag-and-drop characters between events
  - Click to view/edit details
  - Right-click for context menus
  - Zoom in/out on timeline
  - Keyboard shortcuts (Ctrl+S for saving project/changes)

- **Validation**
- No overlapping events for characters
- Duplicate checking
- Date validation



## Installation

### Requirements
- Python3 
- PySide6
- Pytest

### Steps
Clone or download the project:

git clone <https://github.com/semomo12/Timeline.git>

### Create and activate a virtual environment#
```bash
python3 -m venv venv
source venv/bin/activate
```
### Install dependencies:
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

## To generate a Python file from .ui
```bash
pyside6-uic ui/core/main_window.ui -o ui/core/main_window_ui.py
```

### Start the Application
app/main.py
```bash
python app/main.py
```
or use start.sh:
```bash
./start.sh
```
### Keyboard Shortcuts

- `Ctrl+S`: Save project/changes


### Quick Start
1. **Create a new project**: File â†’ New Project
2. **Add a place**: Add Place
3. **Add a character**: Add Character
4. **Create an event**: Add Event
   - Choose date/day sequence
   - Select place
   - Select participating characters
5. **Visualize**: Timeline updates automatically

### Drag-and-Drop
1. Click and hold on a character in an event
2. Drag to another event
3. Release to move the character
The application automatically validates that the move is allowed (no overlapping events).



## Project Structure

```

â”œâ”€â”€ README.MD                  # Project description and instructions
â”œâ”€â”€ Tests                      # Unit tests
â”‚Â Â  â””â”€â”€ test_basic_entities.py   # Tests for basic entities
â”œâ”€â”€ app                        # Application entry point
â”‚Â Â  â””â”€â”€ main.py                  # Main file to start the program
â”œâ”€â”€ core                       # Core logic and data models
â”‚Â Â  â”œâ”€â”€ data                     # Data models (character, event, place, project)
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ base_model.py          # Base model for other data models
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ character.py           # Model for characters
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ data_manager.py        # Data and storage management
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ event.py               # Model for events
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ place.py               # Model for places
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ project.py             # Model for projects
â”‚Â Â  â”‚Â Â  â””â”€â”€ timeline_data.py       # Model for timeline data
â”‚Â Â  â”œâ”€â”€ logic                    # Controllers and logic
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main_controller.py      # Main controller for the application
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ objects                # Object controllers (character, event, place)
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ project_controller.py   # Controller for projects
â”‚Â Â  â”‚Â Â  â””â”€â”€ ui                     # UI-related logic
â”‚Â Â  â””â”€â”€ utils                    # Helper functions and validation
â”‚Â Â      â”œâ”€â”€ timeline_helpers.py     # Timeline helper functions
â”‚Â Â      â””â”€â”€ validation_manager.py   # Validation logic
â”œâ”€â”€ requirements.txt            # Python dependencies
â”œâ”€â”€ start.sh                    # Startup script for the application
â””â”€â”€ ui                          # UI components and rendering
  â”œâ”€â”€ click_handler.py          # Handles UI clicks
  â”œâ”€â”€ core
  â”‚Â Â  â”œâ”€â”€ main_window_ui.py       # UI class for main window
  â”‚Â Â  â””â”€â”€ ui_mapper.py            # Mapper between UI and data
  â”œâ”€â”€ drag_drop.py               # Drag-and-drop functionality
  â”œâ”€â”€ graphics
  â”‚Â Â  â”œâ”€â”€ color.py                  # Color management
  â”‚Â Â  â”œâ”€â”€ drawing.py                # Drawing logic
  â”‚Â Â  â”œâ”€â”€ layout.py                 # Graphics layout
  â”‚Â Â  â”œâ”€â”€ participants.py           # Handles participants in graphics
  â”‚Â Â  â””â”€â”€ render.py                 # Graphics rendering
  â”œâ”€â”€ info_dialogs.py             # Information dialogs
  â”œâ”€â”€ menu_factory.py             # Menu management
  â”œâ”€â”€ navigation.py               # UI navigation
  â””â”€â”€ scene.py                    # Scene management in UI

```


## Project saves as JSON files
```json
{
  "name": "My Project",
  "characters": [...],
  "events": [...],
  "places": [...],
  "metadata": {
    "timeline_mode": "calendar",
    "dark_mode_enabled": false
  }
}
```


## Known Limitations

- An event can only be associated with one place
- Characters cannot be in overlapping events
- Descriptions and notes limited to 200 characters


## Testing
- TestCharacterOperations (4 tests): Create, edit, serialize characters
- TestEventOperations (3 tests): Create, edit, serialize events
- TestPlaceOperations (2 tests): Create, edit, serialize places
- TestProjectIntegration (3 tests): Project with all entities, relationships


### Run All Tests:
```bash
pip install pytest
python3 -m pytest Tests/test_basic_entities.py -v
```

### Test certain parts:
```bash
pytest Tests/test_basic_entities.py -k TestCharacterOperations -v
pytest Tests/test_basic_entities.py -k test_create_characters -v
pytest Tests/test_basic_entities.py -k TestEventOperations -v
pytest Tests/test_basic_entities.py::TestCharacterOperations::test_create_characters -v

```

---

**Version**: 1.0.0  
**Last Updated**: 2025-10-28

---

## Author

[Seyed Mostafa Mohseni]
PA1414